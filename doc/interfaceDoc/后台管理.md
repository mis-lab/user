# 后台管理接口文档

### 1.all用户信息展示

##### 1.url

    GET /userInfos

##### 2.响应
key：userInfo

###### 1.响应成功
参数|含义|类型
--|--|--
userName|用户名|String
id|学号|String
e_mail|邮箱|String
sex|性别|String
phone_number|手机号|String
major|专业|String
class_number|班级|String
study_direction|学习方向|String
age|年龄|int
birth|生日|String
habit|爱好|String
state|身份|int

Json示例：

    {
    "userInfos": [
        {
            "class_number": "03011703",
            "password": "111111",
            "major": "信息管理与信息系统",
            "e_mail": "1234567891@qq.com",
            "sex": "男",
            "birth": "1997-04-25",
            "study_direction": "Python",
            "phone_number": "15320268112",
            "id": "2015211021",
            "state": 2,
            "userName": "hyx",
            "age": 21
        },
        {
            "class_number": null,
            "password": "111111",
            "major": null,
            "e_mail": "562342586@qq.com",
            "sex": null,
            "birth": null,
            "study_direction": "后台",
            "phone_number": null,
            "id": "2016211010",
            "state": 0,
            "userName": "cml",
            "age": 0
        }
    ]
}

###### 2.响应失败
参数|含义
--|--
0|该功能存在异常，请联系管理员
2|未登录
4|不存在用户

Json示例：

    {
        “userInfos”:0
    }


### 2.查询单个用户信息

##### 1.url

    GET /userInfos/searchValue
    
##### 2.请求参数

参数|含义|类型
--|--|--
searchValue|输入框中的内容|String

##### 3.响应
key:selectValue

###### 1.请求成功
参数|含义|类型
--|--|--
userName|用户名|String
id|学号|String
e_mail|邮箱|String
sex|性别|String
phone_number|手机号|String
major|专业|String
class_number|班级|String
study_direction|学习方向|String
age|年龄|int
birth|生日|String
habit|爱好|String
state|身份|int

Json示例：

    {
      "class_number": "03011702",
      "password": "123456",
      "major": "信息管理与信息系统",
      "e_mail": "2208864697@qq.com",
      "sex": "男",
      "birth": "1999-10-27",
      "study_direction": "后台",
      "phone_number": "13759758663",
      "id": "2017211005",
      "state": 2,
      "userName": "dsy",
      "age": 19
    }

###### 2.响应失败
参数|含义
--|--
2|未登录
4|未查询到此用户
0|此功能出现异常，请联系管理员

Json示例：

    {
        “searchValue”:0
    }

### 3.用户数量统计

##### 1.url

    GET /mainAmount
    
##### 2.响应

key|value含义
--|--
userAmount|用户总数
adminAmount|管理员数量
error|0，此功能出现异常，请联系管理员
error|2，未登录

Json示例：
成功

    {
        "userAmount":0,
        "adminAmount":2
        
    }
    
失败

    {
        "error":0
    }

### 3.学习方向可视化

##### 1.url

    GET /study_directionAmount
    
##### 3.响应

key|value含义
--|--
androidNum|安卓
bgNum|后台
frontNumber|前端
PyNum|Python
algNum|算法

Json示例：

    {
        "androidNum":1,
        "bgNum":2,
        "frontNumber":1,
        "PyNum":3,
        "algNum":0
        
    }

### 4.重置用户密码

##### 1.url

    PUT /user/password
    
##### 2.请求参数

参数|含义|类型
--|--|--
byUserId|被重置用户学号|String

##### 3.响应
key:updatePassword

参数|含义
--|--
0|此功能出现异常，请联系管理员
1|更改成功
2|未登录，无法进行操作
3|更改失败，稍后重试
4|您无权限进行此操作

Json示例：

    {
        "updatePassword":0
    }

### 5.更改用户权限

##### 1.url

    PUT /user/id
   
##### 2.请求参数

参数|含义|类型
--|--|--
byUserId|被修改用户学号|String
state|当前权限值|int

##### 3.响应
key：userState
参数|含义
--|--
0|此功能存在异常，请联系管理员
1|更改成功
2|您无权进行此项操作
4|更改失败

Json示例:

    {
        userState:0
    }

### 6.用户删除

##### 1.url

    DELETE /user/id
    
##### 2.请求参数
参数|含义|类型
--|--|--
byUserId|被删除用户学号|String

##### 3.响应
key:deleteUser
参数|含义
--|--
0|此用户存在异常，请联系管理员
1|删除成功
2|无权限进行此项操作
3|删除失败

Json示例：

    {
        "deleteUser":0
    }

### 7.Excel表格上传

##### 1.url

    POST /excelUserInfo
    
##### 2.请求参数
参数|含义|类型
--|--|--
file|表格文件|MultipartFile

##### 3.响应
key：excelUserInfo
value：上传的任何情况，直接解析展示

Json示例：

    {
        "excelUserInfo":
        "第3行，邮箱为2208864697@qq.com的用户已存在第4行，学号为2017211005的用户已存在"
    }
